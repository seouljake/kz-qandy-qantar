##Linear Regression
#Generate the independent variable and the error
x1=rnorm(100,50,9)
x2=rnorm(100,200,64)
error=rnorm(100,0,16)
#Generate the dependent variable (b0=150, b1=-4, b2=2.5)
y1=150-(4*x1)+(2.5*x2)+error
#create the model
m1=lm(y1~x1+x2)
summary(m1)
autoplot(m1)
##Linear Regression
#Generate the independent variable and the error
Age=rnorm(100,40,20)
hist(Age)
##Linear Regression
#Generate the independent variable and the error
Age=rnorm(100,40,40)
x2=rnorm(100,200,64)
hist(Age)
##Linear Regression
#Generate the independent variable and the error
Age=rnorm(100,40,20)
hist(Age)
min(Age)
max(Age)
library(truncnorm)
install.packages("truncnorm")
library(truncnorm)
##Linear Regression
#Generate the independent variable and the error
Age=truncnorm(100,a=15,b=65,40,20)
##Linear Regression
#Generate the independent variable and the error
Age=rtruncnorm(100,a=15,b=65,40,20)
hist(Age)
##Linear Regression
#Generate the independent variable and the error
Age=rtruncnorm(100,a=15,b=65,40,20)
hist(Age)
Tall=rnorm(100)
hist(Tall)
Tall=rnorm(100)>.5
hist(Tall)
Tall=list(rep(0,100))
hist(Tall)
Tall=list(rep(0,100))
hist(Tall)
Tall=rep(0,100)
hist(Tall)
Tall=rep(0,100)
Tall[rnorm(100)>.5]<-1
Tall<-1
hist(Tall)
Tall=rep(0,100)
Tall
Tall<-1
hist(Tall)
Tall
Tall[rnorm(100)>.5]<-1
Tall
Tall=rep(0,100)
Tall[rnorm(100)>.5]<-1
Tall
hist(Tall)
plot(Age,Tall)
plot(Tall,Age)
corr(Tall,Age)
cor(Age,Tall)
cor.test(Age,Tall)
Star<- rnorm(100)+(Age-40)*.1
hist(Star)
mean(Star)
cor(Star,Age)
cor.test(Star,Age)
Star<- rnorm(100)+(Age-40)*.01
cor(Star,Age)
plot(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star<- rnorm(100)+(Age-40)*.02
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
Star
plot(Age,Star)
abline(lm(Star ~ Age))
dat<-data.frame(Tall,Age,Star)
dat
cor.test(Star,Tall)
N<-100
n<-100
set.seed(1234)
n<-100
Age<-rtruncnorm(n,a=15,b=65,40,20)
hist(Age)
Tall<-rep(0,n)
Tall[rnorm(n)>.5]<-1
hist(Tall)
Star<- rnorm(n)+(Age-40)*.02
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
cor.test(Star,Tall)
dat<-data.frame(Tall,Age,Star)
cor.test(Star,Age)
Star<- rnorm(n)+(Age-40)*.05
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
cor.test(Star,Age)
cor.test(Star,Tall)
Star<- rnorm(n)+(Age-40)*.05
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
cor.test(Star,Age)
cor.test(Star,Tall)
dat<-data.frame(Tall,Age,Star)
plot(Age,Star)
abline(lm(Star ~ Age))
cor.test(Star,Age)
cor.test(Star,Tall)
dat<-data.frame(Tall,Age,Star)
file<-"C:/Users/seoul/Dropbox/03 professional management/courses/2022 KIMEP/Intro to Social Science/Module 2"
filename<-"sneetches.csv"
dir+filename
file<-"C:/Users/seoul/Dropbox/03 professional management/courses/2022 KIMEP/Intro to Social Science/Module 2/sneetches.csv"
write.csv(dat,file=file)
Dollars <- rtruncnorm(n,a=0,b=100,50,25) + Star*10
cor.test(Dollars,Height)
Height<-rep(0,n)
Height[rnorm(n)>.5]<-1
hist(Height)
Star<- rnorm(n)+(Age-40)*.05
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
plot(Age,Star)
abline(lm(Star ~ Age))
cor.test(Star,Age)
cor.test(Star,Height)
Dollars <- rtruncnorm(n,a=0,b=100,50,25) + Star*10
cor.test(Dollars,Height)
cor.test(Dollars,Age)
cor.test(Dollars,Star)
m<-lm(Dollars ~ Height)
summary(m)
m<-lm(Dollars ~ Age)
m<-lm(Dollars ~ Age);summary(m)
m<-lm(Dollars ~ Star);summary(m)
m<-lm(Dollars ~ Star + Age);summary(m)
m<-lm(Dollars ~ Age);summary(m)
Star<- rnorm(n)+(Age-40)*.1
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
plot(Age,Star)
abline(lm(Star ~ Age))
cor.test(Star,Age)
cor.test(Star,Height)
Dollars <- rtruncnorm(n,a=0,b=100,50,25) + Star*10
cor.test(Dollars,Height)
cor.test(Dollars,Age)
cor.test(Dollars,Star)
m<-lm(Dollars ~ Height);summary(m)
m<-lm(Dollars ~ Age);summary(m)
m<-lm(Dollars ~ Star);summary(m)
m<-lm(Dollars ~ Star + Age);summary(m)
Star<- rnorm(n)+(Age-40)*.05
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
plot(Age,Star)
abline(lm(Star ~ Age))
cor.test(Star,Age)
cor.test(Star,Height)
Dollars <- rtruncnorm(n,a=0,b=100,50,25) + Age*.1
cor.test(Dollars,Height)
cor.test(Dollars,Age)
Dollars <- rtruncnorm(n,a=0,b=100,50,25) + Age*.1
cor.test(Dollars,Height)
cor.test(Dollars,Age)
cor.test(Dollars,Star)
plot(Age,Dollars)
abline(lm(Dollars ~ Age))
cor.test(Dollars,Height)
cor.test(Dollars,Age)
cor.test(Dollars,Star)
m<-lm(Dollars ~ Height);summary(m)
m<-lm(Dollars ~ Age);summary(m)
m<-lm(Dollars ~ Star);summary(m)
m<-lm(Dollars ~ Star + Age);summary(m)
Dollars <- rtruncnorm(n,a=0,b=100,50,25) + Age
plot(Age,Dollars)
abline(lm(Dollars ~ Age))
cor.test(Dollars,Height)
cor.test(Dollars,Age)
cor.test(Dollars,Star)
m<-lm(Dollars ~ Height);summary(m)
m<-lm(Dollars ~ Age);summary(m)
m<-lm(Dollars ~ Star);summary(m)
m<-lm(Dollars ~ Star + Age);summary(m)
m<-lm(Dollars ~ Star);summary(m)
cor.test(Dollars,Star)
Star<- rnorm(n)+Age*.1
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star<- rnorm(n)+(Age-40)*.1
cor(Star,Age)
cor.test(Star,Age)
plot(Age,Star)
abline(lm(Star ~ Age))
Star[Star>=0]<-1
Star[Star<0]<-0
plot(Age,Star)
abline(lm(Star ~ Age))
cor.test(Star,Age)
cor.test(Star,Height)
Dollars <- rtruncnorm(n,a=0,b=100,50,25) + Age
plot(Age,Dollars)
abline(lm(Dollars ~ Age))
plot(Star,Dollars)
abline(lm(Dollars ~ Star))
cor.test(Dollars,Height)
cor.test(Dollars,Age)
cor.test(Dollars,Star)
m<-lm(Dollars ~ Height);summary(m)
m<-lm(Dollars ~ Age);summary(m)
m<-lm(Dollars ~ Star);summary(m)
m<-lm(Dollars ~ Star + Age);summary(m)
dat<-data.frame(Height,Age,Star)
write.csv(dat,file=file)
write.csv(dat,file=file)
dat<-data.frame(Height,Age,Star,Dollars)
write.csv(dat,file=file)
dat<-data.frame(Height,Age,Star,Dollars)
write.csv(dat,file=file)
hist(Dollars)
hist(Star)
summary(Dollars)
hist(Dollars)
hist(Star)
summary(Star)
hist(Age)
summary(Age)
hist(Height)
summary(Height)
# univariate analysis
Dollars
# univariate analysis
round(Dollars,0)
Dollars<-round(Dollars)
Dollars<-round(Dollars);Dollars
Age
Age<-round(Age);Age
Star
Height
Tall<-Height
dat<-data.frame(Tall,Age,Star,Dollars)
summary(Tall)
Star
Star
hist(Star)
summary(Star)
Age
hist(Age)
summary(Age)
Tall
hist(Tall)
summary(Tall)
#Dollars ~ Star
plot(Star,Dollars)
library(dplyr)
tdat<-dat %>%
select(Star,Dollars)
tdat
tdat<-dat %>%
select(Star,Dollars) %>%
group_by(Star) %>%
summarize(MeanDollars=mean(Dollars))
tdat
tdat<-dat %>%
select(Star,Dollars) %>%
group_by(Star) %>%
summarize(MeanDollars=mean(Dollars))
tdat
library(ggplot2)
g<-ggplot(data=tdat, aes(x=Star, y=MeanDollars)) +
geom_bar(stat="identity")
g
g<-ggplot(data=tdat, aes(x=Star, y=MeanDollars)) +
geom_bar(stat="identity")+
ggtitle("Mean Dollars by Star")
g
g<-ggplot(data=tdat, aes(x=Star, y=MeanDollars)) +
geom_bar(stat="identity")+
geom_text(aes(label=MeanDollars), position=position_dodge(width=0.9), vjust=-0.25) +
ggtitle("Mean Dollars by Star")
g
g<-ggplot(data=tdat, aes(x=Star, y=MeanDollars)) +
geom_bar(stat="identity")+
geom_text(aes(label=round(MeanDollars,2)), position=position_dodge(width=0.9), vjust=-0.25) +
ggtitle("Mean Dollars by Star")
g
tdat
g<-ggplot(data=tdat, aes(x=Star, y=MeanDollars)) +
geom_bar(stat="identity")+
geom_text(aes(label=round(MeanDollars)), position=position_dodge(width=0.9), vjust=-0.25) +
ggtitle("Mean Dollars by Star")
g
g<-ggplot(data=tdat, aes(x=Star, y=MeanDollars)) +
geom_bar(stat="identity")+
geom_text(aes(label=round(MeanDollars,1)), position=position_dodge(width=0.9), vjust=-0.25) +
ggtitle("Mean Dollars by Star")
g
tdat<-dat %>%
select(Star,Dollars) %>%
group_by(Star) %>%
summarize(MeanDollars=mean(Dollars))
tdat
plot(Tall,Dollars)
tdat<-dat %>%
select(Tall,Dollars) %>%
group_by(Tall) %>%
summarize(MeanDollars=mean(Dollars))
tdat
g<-ggplot(data=tdat, aes(x=Tall, y=MeanDollars)) +
geom_bar(stat="identity")+
geom_text(aes(label=round(MeanDollars,1)), position=position_dodge(width=0.9), vjust=-0.25) +
ggtitle("Mean Dollars by Tall")
g
plot(Age,Dollars)
abline(lm(Dollars ~ Age))
plot(Age,Star)
abline(lm(Star ~ Age))
cor(Age,Star)
cor.test(Age,Star)
cor.test(Dollars,Age)
cor.test(Dollars,Tall)
cor.test(Dollars,Star)
m<-lm(Dollars ~ Star);summary(m)
m<-lm(Dollars ~ Age);summary(m)
m<-lm(Dollars ~ Star + Age);summary(m)
m<-lm(Dollars ~ Tall);summary(m)
m<-lm(Dollars ~ Star + Tall);summary(m)
m<-lm(Dollars ~ Age + Tall);summary(m)
m<-lm(Dollars ~ Star + Age + Tall);summary(m)
file="C:/Users/seoul/Dropbox/Shared Folders/Shared_North Korea Politicians/Analysis/2022.04.07 re-do analysis for MPSA draft/2016.04.07 Transitions_model in Stata.csv"
dat<-read.csv(file)
file="C:/Users/seoul/Dropbox/Shared Folders/Shared_North Korea Politicians/Analysis/2022.04.07 re-do analysis for MPSA draft/2016.04.07 Transitions_model in Stata.csv"
dat<-read.csv(file,fileEncoding="UTF-8")
locale()
local()
locale("ko")
Sys.getlocale()
dat<-read.csv(file,fileEncoding="Korean")
file="C:/Users/seoul/Dropbox/Shared Folders/Shared_North Korea Politicians/Analysis/2022.04.07 re-do analysis for MPSA draft/2016.04.07 Transitions_model in Stata.csv"
dat<-read.csv(file,fileEncoding="UTF-8")
locale("en")
Sys.getlocale()
Sys.setlocale("en")
Sys.setenv("en")
?Sys.setlocale
Sys.setlocale(category="LC_ALL")
g
Sys.getlocale()
Sys.setlocale(category="LC_ALL",locale="")
Sys.getlocale()
dat<-read.csv(file)
file="C:/Users/seoul/Dropbox/Shared Folders/Shared_North Korea Politicians/Analysis/2022.04.07 re-do analysis for MPSA draft/2016.04.07 Transitions_model in Stata.csv"
dat<-read.csv(file)
dat<-read.csv(file,encoding="utf-8-sig")
file="C:/Users/seoul/Dropbox/Shared Folders/Shared_North Korea Politicians/Analysis/2022.04.07 re-do analysis for MPSA draft/2016.04.07 Transitions.csv"
dat<-read.csv(file,encoding="utf-8-sig")
Sys.setlocale(category="LC_ALL",locale="")
Sys.getlocale()
Sys.setenv(LANG = "en")
Sys.getlocale()
Sys.getlocale()
Sys.setlocale("LC_ALL","English")
Sys.getlocale()
file="C:/Users/seoul/Dropbox/Shared Folders/Shared_North Korea Politicians/Analysis/2022.04.07 re-do analysis for MPSA draft/2016.04.07 Transitions.csv"
dat<-read.csv(file,encoding="utf-8-sig")
dat
dat<-read.csv(file,encoding="utf-8")
dat
dat<-read.csv(file,encoding="ko")
dat
names(dat)
dat$SecondPosition
dat<-read.csv(file,FileEncoding="ko")
names(dat)
dat<-read.csv(file,FileEncoding="korean")
names(dat)
dat$SecondPosition
dat<-read.csv(file)
names(dat)
dat$SecondPosition
names(dat)
dat$MOUID
names(dat)
dat$SecondOrgLevel
dat<-read.csv(file)
names(dat)
dat$SecondOrgLevel
dat
getwd()
library("xlsx")
install.packages("xlsx")
w1
getwd()
getwd()
getwd()
getwd()
getwd()
getwd()
qt(p = .025, df = 29)
qt(p = 1-.025, df = 29)
setwd("C:/Users/seoul/Dropbox/00 technical/github/kz-qandy-qantar/scripts")
# Replace 'your_file.csv' with the actual file path or URL
file_path <- "../data/heatmap.csv"
# Read the CSV file into a data frame
dat_raw <- read.csv(file_path,fileEncoding = "UTF-8-BOM")
# Display the first few rows of the data frame
head(dat_raw)
# select data columns
dat <- as.matrix(t(dat_raw[,2:7]))
head(dat)
class(dat)
# calculate distance
dist_matrix <- dist(dat, method = "euclidean", diag = TRUE, upper = TRUE)
dist_matrix
# Perform hierarchical clustering
hclust_result <- hclust(dist_matrix, method = "complete")
# Plot the dendrogram
plot(hclust_result, main = "Hierarchical Clustering Dendrogram")
# Set the file path for the TIFF file
tiff_file_path <- "analysis/dendrogram.tiff"
# Your plot code here (again)
plot(hclust_result, main = "Hierarchical Clustering Dendrogram")
# heatmap
heatmap(dist_matrix)
type(dist_matrix)
class(dist_matrix)
class(as.matrix(dist_matrix))
# heatmap
heatmap(as.matrix(dist_matrix))
# Perform hierarchical clustering
hclust_result <- hclust(dist_matrix, method = "complete")
# Plot the dendrogram
plot(hclust_result, main = "Hierarchical Clustering Dendrogram")
head(dat)
setwd("C:/Users/seoul/Dropbox/00 technical/github/kz-qandy-qantar/scripts")
# Replace 'your_file.csv' with the actual file path or URL
file_path <- "../data/heatmap.csv"
# Read the CSV file into a data frame
dat_raw <- read.csv(file_path,fileEncoding = "UTF-8-BOM")
# Display the first few rows of the data frame
head(dat_raw)
dat_raw
# Display the first few rows of the data frame
head(dat_raw)
# Read the CSV file into a data frame
dat_raw <- read.csv(file_path,fileEncoding = "UTF-8-BOM")
# Display the first few rows of the data frame
head(dat_raw)
dat_raw
# select data columns
dat <- as.matrix(t(dat_raw[,2:7]))
head(dat)
class(dat)
dist
# calculate distance
dist_matrix <- dist(dat, method = "euclidean", diag = TRUE, upper = TRUE)
dist_matrix
# heatmap
heatmap(as.matrix(dist_matrix))
# Perform hierarchical clustering
hclust_result <- hclust(dist_matrix, method = "complete")
# Plot the dendrogram
plot(hclust_result, main = "Hierarchical Clustering Dendrogram")
setwd("C:/Users/seoul/Dropbox/00 technical/github/kz-qandy-qantar/scripts")
# Replace 'your_file.csv' with the actual file path or URL
file_path <- "../data/heatmap.csv"
# Read the CSV file into a data frame
dat_raw <- read.csv(file_path,fileEncoding = "UTF-8-BOM")
# Display the first few rows of the data frame
head(dat_raw)
